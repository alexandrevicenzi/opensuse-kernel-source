From 7e8371975ab545653552e5f25b967e11949cfb74 Mon Sep 17 00:00:00 2001
From: Jose Abreu <Jose.Abreu@synopsys.com>
Date: Wed, 6 Nov 2019 16:02:55 +0100
Subject: [PATCH 1/7] net: stmmac: gmac4: bitrev32 returns u32
Git-commit: 4d7c47e34fab0d25790bb6e85b85e26fdf0090d5
Patch-mainline: v5.4-rc7
References: git-fixes

The bitrev32 function returns an u32 var, not an int. Fix it.

Fixes: 477286b53f55 ("stmmac: add GMAC4 core support")
Signed-off-by: Jose Abreu <Jose.Abreu@synopsys.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Denis Kirjanov <denis.kirjanov@suse.com>
---
 drivers/net/ethernet/stmicro/stmmac/dwmac4_core.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/stmicro/stmmac/dwmac4_core.c b/drivers/net/ethernet/stmicro/stmmac/dwmac4_core.c
index 899c9c0b17ae..3c2d4afbc81a 100644
--- a/drivers/net/ethernet/stmicro/stmmac/dwmac4_core.c
+++ b/drivers/net/ethernet/stmicro/stmmac/dwmac4_core.c
@@ -422,7 +422,7 @@ static void dwmac4_set_filter(struct mac_device_info *hw,
 			/* The upper 6 bits of the calculated CRC are used to
 			 * index the content of the Hash Table Reg 0 and 1.
 			 */
-			int bit_nr =
+			u32 bit_nr =
 				(bitrev32(~crc32_le(~0, ha->addr, 6)) >> 26);
 			/* The most significant bit determines the register
 			 * to use while the other 5 bits determines the bit
-- 
2.16.4

